<section class="background row align-items-start gradient-background py-4 vh-100">
    <div class="container p-2">
        <div class="row justify-content-center">
    
            <div class="card card-color row g-1 class card p-3 shadow">
                <div class="card-body">
                    <h3 class="custom text-light pt-md-2 text-center">
                        {{tipo}} GASTO
                    </h3>
                </div>

                <form class="" [formGroup]="expenseForm" (ngSubmit)="getDataForm()">
                    <div class="my-2">
                        <label for="description" class="form-label">Descripción</label>
                            <input type="text" class="form-control" id="description" formControlName="description" placeholder="Descripción">
                            @if (checkControl('description','required')) {
                            <p class="error-msg">Campo obligatorio</p>
                            }
                    </div>

                    <div class="my-2 amount-field">
                        <label for="amount" class="form-label">Cantidad (€)</label>
                        <input type="number" class="form-control" id="amount" formControlName="amount" placeholder="Cantidad">
                        @if (checkControl ('amount','required')) {
                        <p class="error-msg">Campo obligatorio</p>
                        }
                    </div>

                    <div class="my-2 date-field">
                        <label for="date" class="form-label">Fecha</label>
                        <input type="date" class="form-control" id="date" formControlName="date">
                        @if (checkControl ('date','required')) {
                        <p class="error-msg">Campo obligatorio</p>
                        }
                    </div>

                    <div class="my-2">
                        <label for="payer_user_id" class="form-label">Usuario pagador</label>
                        <select class="form-control" name="payer_user_id" id="payer_user_id" formControlName="payer_user_id">
                            <option value="" disabled selected>- Selecciona un usuario -</option>
                            @for (user of arrUsers; track user.id){
                                <option [value]="user.id">{{ user.firstname }}</option>
                            }
                        </select>
                        @if (checkControl ('payer_user_id','required')) {
                        <p class="error-msg">Campo obligatorio</p>
                        }
                    </div>

                    <input type="submit" value="{{btnText}}" class="btn btn-outline-light my-2" [disabled]="!expenseForm.valid || !expenseForm.dirty"/>
                    <button class="btn btn-dark my-2" (click)="backExpensesGroup" >Volver</button>
                </form>
            </div>
        </div>
    </div>

</section>